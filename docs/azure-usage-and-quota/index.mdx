---
id: "index"
title: "Azure Usage and Quota Report"
---

import useBaseUrl from '@docusaurus/useBaseUrl';

## Demo Request
**Fill out this [survey](https://forms.office.com/Pages/DesignPage.aspx#FormId=v4j5cvGGr0GRqy180BHbR2TLimZclS5AtMUGZWZi-PZUNUlWOTE1VjQxQjJYUUlJNVdaQTBRQ1AxSi4u) to provide your Microsoft alias and GitHub account, it is used to add you to demo subscription, azure devops environment and GitHub repo (source code and deployment template used in this demo).** If you don’t have github account, use this [link](https://github.com/join?source=login/) to register a GitHub account.
Waiting for a demo environment preparation completion e-mail sent from ythuang@microsoft.com or Xin.Zhang@microsoft.com , then you are good to go with below demos.

## Demo Scenarios
## Hints first

as a customer, once I want to get the ratio of Usage to Quota, on the Azure portal， I can access every Subscription page to capture the basic info one by one, but this is not very convenient and friendly  to get the centralized report for  analysis , so I hope a unified way to get the ratio of usage and quota report for making the usage management and quota plan more.
- it is an "Usage and Quota" shows in Azure portal, on the Azure portal , have to check it one by one  .
<img alt="portal-1" src={useBaseUrl('img/azure-usage-and-quota/UsageAndQuotaOnPortal.png')}/>

## what I want looks like
- A file record all subscriptions quota and usage staus , user can show it and do usage analysis for resource optimization，like following 
<img alt="report-1" src={useBaseUrl('img/azure-usage-and-quota/UsageQuotaReportCsv1.png')}/>
- can be analyzed with power BI 
<img alt="report-2" src={useBaseUrl('img/azure-usage-and-quota/UsageQuotaReportDesignPivot.png')}/>


## how to implement it 

- create Runbook to schedule the process 
Azure Automation runbooks can be created through Azure. This method provides a browser-based user interface for creating Automation runbooks. In this quickstart you walk through creating, editing, testing, and publishing an Automation PowerShell runbook.
[Create an Azure Automation runbook](https://docs.microsoft.com/en-us/azure/automation/automation-quickstart-create-runbook)
  - Create RunBook for PowerShell
<img alt="report-2" src={useBaseUrl('img/azure-usage-and-quota/CreateRunbook.png')}/>
  - Grant RunBook Service Principal permission 
<img alt="report-2" src={useBaseUrl('img/azure-usage-and-quota/UsageAndQuotaRole.png')}/>
  - RunBook script to create a storage account to save the scanned usage/quota data，and set the schedule
Runbook + scripts .....................will be updated soon